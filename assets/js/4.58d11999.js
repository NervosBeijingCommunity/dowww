(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{184:function(t,e,s){"use strict";s.r(e);var r=s(0),n=Object(r.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._m(6),t._v(" "),s("p",[t._v("更多详细内容请见："),s("a",{attrs:{href:"https://lug.ustc.edu.cn/wiki/mirrors/help/ubuntu",target:"_blank",rel:"noopener noreferrer"}},[t._v("LUG@USTC | Ubuntu 镜像使用帮助"),s("OutboundLink")],1)]),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),s("blockquote",[s("p",[t._v("参考："),s("a",{attrs:{href:"https://unix.stackexchange.com/questions/4126/what-is-the-exact-difference-between-a-terminal-a-shell-a-tty-and-a-con",target:"_blank",rel:"noopener noreferrer"}},[t._v("Shell、Terminal 和 Console 的区别。"),s("OutboundLink")],1)])]),t._v(" "),t._m(9),t._v(" "),s("p",[t._v("Terminal，即「终端模拟器」。我们需要一个终端去和我们的 "),s("code",[t._v("shell")]),t._v(" 进行交互。你可能看到了，在下载好 Ubuntu 的时候，在开始菜单有一个 Ubuntu 的 Logo，这就是 Windows 为 WSL 准备的默认终端模拟器的入口。从 2018 年 8 月，Windows 正式引入了 ConPTY 这个工具，即：Windows Pseudo Console。详细请见 Windows 官方博客 > "),s("a",{attrs:{href:"https://blogs.msdn.microsoft.com/commandline/2018/08/02/windows-command-line-introducing-the-windows-pseudo-console-conpty/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Windows Command-Line: Introducing the Windows Pseudo Console (ConPTY)"),s("OutboundLink")],1),t._v("。")]),t._v(" "),s("p",[t._v("ConPTY 的引入意味着 Windows 命令行环境有了更多的现代终端应具备的功能，比如：")]),t._v(" "),t._m(10),t._v(" "),s("p",[t._v("等等。这是个好兆头，至少 Windows 开始对 CLI 环境的使用体验开始重视了。我们先来讲讲如何把 WSL 默认的终端变美。")]),t._v(" "),t._m(11),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("感谢 "),s("a",{attrs:{href:"https://github.com/spencerwooo/dowww/issues/16",target:"_blank",rel:"noopener noreferrer"}},[t._v("Issue #16"),s("OutboundLink")],1),t._v(" 中，"),s("a",{attrs:{href:"https://github.com/12101111",target:"_blank",rel:"noopener noreferrer"}},[t._v("@12101111"),s("OutboundLink")],1),t._v(" 提醒我介绍默认终端的配置。")]),t._v(" "),s("p",[t._v("虽然 "),s("router-link",{attrs:{to:"/2-Toolchain/2-1-TerminalEnv.html#terminus"}},[t._v("下面的下面")]),t._v("，我提到了两个基于 Electron、更加方便自定义、从某种程度上也更好看的终端模拟器，但是 "),s("strong",[t._v("它们都没有原生的 Windows 默认终端性能快")]),t._v("。因此，如果你追求性能高过美丽，也可以通过下面的方法稍微让 Windows 默认终端好看一些。")],1),t._v(" "),t._m(12)]),t._v(" "),t._m(13),t._v(" "),s("p",[t._v("由于中文的大环境，默认的 Windows 终端字体是新宋体。相信你和我一样，对这个模糊不清的字体深恶痛绝。但是由于 Windows 默认终端是一个极为底层的应用，没有使用通用 UI 渲染层，因此它对字体有着严格的要求，支持这一要求的字体（在中文环境下）只有 "),s("a",{attrs:{href:"https://github.com/be5invis/Sarasa-Gothic",target:"_blank",rel:"noopener noreferrer"}},[t._v("Sarasa Gothic"),s("OutboundLink")],1),t._v("。下载安装这个字体之后，你就可以在 Windows 默认终端的设置项目下设置这个字体了。特别的，"),s("code",[t._v("Sarasa Mono T SC")]),t._v("（或者中文叫等距更纱黑体）是我们编码所需的等宽字体。")]),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),s("p",[t._v("在 "),s("a",{attrs:{href:"https://github.com/Microsoft/console",target:"_blank",rel:"noopener noreferrer"}},[t._v("Microsoft/console"),s("OutboundLink")],1),t._v(" 这个仓库里面，微软为我们提供了一个方便更改默认终端配色的工具："),s("a",{attrs:{href:"https://github.com/Microsoft/console/tree/master/tools/ColorTool",target:"_blank",rel:"noopener noreferrer"}},[t._v("ColorTool"),s("OutboundLink")],1),t._v("，我们可以通过这个工具方便的对我们默认终端的配色进行更改，同时这个工具也支持读取 iTerm 主题文件。")]),t._v(" "),s("ul",[s("li",[t._v("首先，我们在这里 > "),s("a",{attrs:{href:"https://github.com/Microsoft/console/releases",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/Microsoft/console/releases"),s("OutboundLink")],1),t._v(" 下载 ColorTool 至本地，并解压")]),t._v(" "),t._m(16),t._v(" "),s("li",[t._v("首先我们通过这个命令来看看默认有哪些自带的主题供我们使用：")])]),t._v(" "),t._m(17),t._m(18),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),t._m(22),t._v(" "),t._m(23),t._v(" "),t._m(24),s("p",[s("strong",[t._v("推荐阅读：")]),s("a",{attrs:{href:"https://sspai.com/post/52868",target:"_blank",rel:"noopener noreferrer"}},[t._v("告别 Windows 终端的难看难用，从改造 PowerShell 的外观开始"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("ColorTool 自带了两个常见的主题供我们直接使用，你也可以从这里下载更多的 iTerm 主题配置文件："),s("a",{attrs:{href:"https://github.com/mbadolato/iTerm2-Color-Schemes",target:"_blank",rel:"noopener noreferrer"}},[t._v("iTerm2-Color-Schemes"),s("OutboundLink")],1),t._v(" 来使用。")]),t._v(" "),s("p",[t._v("当然，你并不一定要使用 Windows 给 WSL 准备的默认终端模拟器。下面推荐几个更好看的，一些是基于 Electron 技术的 Terminal。得益于优秀现代的前端技术，他们都很「美丽」，任选一个就可以。")]),t._v(" "),s("h3",{attrs:{id:"windows-terminal"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#windows-terminal","aria-hidden":"true"}},[t._v("#")]),t._v(" Windows Terminal "),s("Badge",{attrs:{text:"new"}})],1),t._v(" "),s("p",[t._v("在前几天 Microsoft Build 2019 大会上，微软发布了新一代 Windows 终端工具：Windows Terminal。其令人惊艳的 Fluent UI 设计、亚克力半透明材质的背景和对 UTF-8、Emoji 等特殊字符的支持让大家赞叹不已。详见："),s("a",{attrs:{href:"https://devblogs.microsoft.com/commandline/introducing-windows-terminal/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Introducing Windows Terminal"),s("OutboundLink")],1)]),t._v(" "),t._m(25),t._v(" "),s("p",[t._v("Windows Terminal 将于今年（2019 年）中发布第一个测试版本，其开源地址位于："),s("a",{attrs:{href:"https://github.com/microsoft/Terminal",target:"_blank",rel:"noopener noreferrer"}},[t._v("microsoft/Terminal"),s("OutboundLink")],1),t._v("，"),s("strong",[t._v("请大家期待一下。")])]),t._v(" "),s("h3",{attrs:{id:"fluent-terminal"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fluent-terminal","aria-hidden":"true"}},[t._v("#")]),t._v(" Fluent Terminal "),s("Badge",{attrs:{text:"new"}})],1),t._v(" "),s("p",[t._v("在 Windows Terminal 发布之前，我们先可以用 Fluent Terminal 来缓解一下 Windows 下终端的使用体验。Fluent Terminal 是目前相对稳定的非 Electron 构建的终端。得益于 UWP 技术，Fluent Terminal 能够同样拥有美丽的亚克力半透明背景，同时也支持 iTerm2 色彩主题。")]),t._v(" "),t._m(26),t._v(" "),s("p",[t._v("Fluent Terminal 开源在 "),s("a",{attrs:{href:"https://github.com/felixse/FluentTerminal",target:"_blank",rel:"noopener noreferrer"}},[t._v("felixse/FluentTerminal"),s("OutboundLink")],1),t._v("，详细的安装过程请直接参考其官方 Wiki。")]),t._v(" "),t._m(27),t._v(" "),s("p",[t._v("Terminus 是基于 Electron 的 Terminal，是本次我更加推荐的终端。因为相比下文推荐的 Hyper 终端，同样是 Electron 技术搭建的情况下，Terminus 优化的相对更好，启动快速，设置界面也是 GUI 形式而非直接修改配置文件。体验更加爽快。👍")]),t._v(" "),t._m(28),t._v(" "),t._m(29),t._v(" "),s("p",[t._v("下载 Terminus 终端：")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://eugeny.github.io/terminus/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Terminus 官网"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/Eugeny/terminus",target:"_blank",rel:"noopener noreferrer"}},[t._v("Terminus 项目主页"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/Eugeny/terminus/releases/latest",target:"_blank",rel:"noopener noreferrer"}},[t._v("Terminus Release 下载页面"),s("OutboundLink")],1)])]),t._v(" "),t._m(30),t._v(" "),s("p",[t._v("在设置中将默认 Shell 设置为「WSL / Default distro」即可默认每次打开 WSL 环境，如下：")]),t._v(" "),t._m(31),t._v(" "),s("p",[t._v("Terminus 的设置是 GUI 界面的，配置简单友好，这里就不做过多描述了，如果要达到截图中的效果：")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("字体")]),t._v("："),s("a",{attrs:{href:"https://github.com/ryanoasis/nerd-fonts/tree/master/patched-fonts/Iosevka",target:"_blank",rel:"noopener noreferrer"}},[t._v("Iosevka Nerd Font"),s("OutboundLink")],1)]),t._v(" "),t._m(32),t._v(" "),t._m(33)]),t._v(" "),t._m(34),s("p",[t._v("Terminus 有很大的可玩性，不必拘泥于我的配置，尽情放飞自己 (づ￣ 3￣)づ")]),t._v(" "),t._m(35),t._v(" "),s("p",[t._v("Hyper 是基于 Electron 的 Terminal，也可能是目前 Windows 上面可定制化程度最高的终端模拟器了。当然，Hyper 也支持 macOS 和 Linux。有关 macOS 终端美化的具体方法可以参考这篇文章 > "),s("a",{attrs:{href:"https://spencerwoo.com/2018/06/16/Terminal/",target:"_blank",rel:"noopener noreferrer"}},[t._v("HOW TO | 让自己的终端漂亮得不像实力派"),s("OutboundLink")],1)]),t._v(" "),t._m(36),t._v(" "),t._m(37),t._v(" "),s("p",[t._v("下载 Hyper 终端：")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://hyper.is/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Hyper 终端官网"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://hyper.is/#installation",target:"_blank",rel:"noopener noreferrer"}},[t._v("Hyper 终端下载地址"),s("OutboundLink")],1)])]),t._v(" "),s("p",[t._v("安装一些主题：")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/bnb/awesome-hyper",target:"_blank",rel:"noopener noreferrer"}},[t._v("Awesome Hyper"),s("OutboundLink")],1),t._v(" - 有趣的与 Hyper 相关的内容、项目，可以找到合适的主题配置、字体、插件和 Hyper 的使用指南。")])]),t._v(" "),t._m(38),t._v(" "),s("blockquote",[s("p",[t._v("感谢 "),s("a",{attrs:{href:"https://github.com/printempw",target:"_blank",rel:"noopener noreferrer"}},[t._v("@printempw"),s("OutboundLink")],1),t._v(" 对唤起 WSL 的 Shell 环境方式进行反馈建议，参考 "),s("a",{attrs:{href:"https://github.com/spencerwooo/dowww/issues/6",target:"_blank",rel:"noopener noreferrer"}},[t._v("Issue #6"),s("OutboundLink")],1),t._v("。")])]),t._v(" "),t._m(39),t._v(" "),t._m(40),t._v(" "),t._m(41),t._m(42),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("参考配置文件："),s("a",{attrs:{href:"https://github.com/spencerwooo/dotfiles/blob/master/_hyper.js",target:"_blank",rel:"noopener noreferrer"}},[t._v(".hyper.js"),s("OutboundLink")],1)])]),t._v(" "),s("p",[t._v("禁用令人闹心的终端提示音：")]),t._v(" "),t._m(43),t._v(" "),t._m(44),t._m(45),t._v(" "),t._m(46),t._v(" "),t._m(47),t._v(" "),t._m(48),t._v(" "),t._m(49),t._v(" "),t._m(50),s("p",[t._v("下载安装 "),s("a",{attrs:{href:"https://ohmyz.sh/",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("oh-my-zsh")]),s("OutboundLink")],1),t._v("，一个好用的 "),s("code",[t._v("zsh")]),t._v(" 配置管理工具：")]),t._v(" "),t._m(51),t._v(" "),t._m(52),t._v(" "),s("p",[t._v("由于 Windows 下所有终端都尚未很好的 "),s("strong",[t._v("支持全角（Double width）的 Unicode 字体")]),t._v("，因此 "),s("code",[t._v("oh-my-zsh")]),t._v(" 默认主题 "),s("code",[t._v("robbyrussell")]),t._v(" 在 Hyper 终端下会出现光标位置不正确的问题（见 "),s("a",{attrs:{href:"https://github.com/spencerwooo/dowww/issues/5",target:"_blank",rel:"noopener noreferrer"}},[t._v("Issue #5"),s("OutboundLink")],1),t._v(")。解决方法：")]),t._v(" "),t._m(53),t._v(" "),t._m(54),t._v(" "),s("p",[t._v("需要注意的是，很多 "),s("code",[t._v("oh-my-zsh")]),t._v(" 主题（包括 "),s("a",{attrs:{href:"https://github.com/bhilburn/powerlevel9k",target:"_blank",rel:"noopener noreferrer"}},[t._v("更加酷炫的 "),s("code",[t._v("Powerlevel9k")]),t._v(" 主题包"),s("OutboundLink")],1),t._v("）都用到了上文提到的 Powerline Fonts 和 Nerd Fonts，而这些字形在 Windows 任何终端下都没有很好的支持，因此目前一个很好的解决方法是：")]),t._v(" "),t._m(55),t._v(" "),t._m(56),t._v(" "),s("p",[t._v("比如：如果你使用了 "),s("a",{attrs:{href:"https://github.com/bhilburn/powerlevel9k",target:"_blank",rel:"noopener noreferrer"}},[t._v("Powerlevel9k 主题包"),s("OutboundLink")],1),t._v("，可以考虑将下面的内容加入 "),s("code",[t._v(".zshrc")]),t._v(" 来实现命令单独在第二行的显示：")]),t._v(" "),t._m(57),s("p",[t._v("这样配置之后，终端中的光标位置就不会出现错位问题了，同时也不影响终端的炫酷和易用。🍻")]),t._v(" "),t._m(58),t._v(" "),s("p",[t._v("Windows 终端输出错位、光标错位的根本原因在于 Windows 终端默认并非是 UTF-8 的环境（至少中文默认环境下不是）。我们可以通过下面的方法保证 Windows 终端环境为 UTF-8 的编码方式：")]),t._v(" "),t._m(59),t._v(" "),t._m(60),t._v(" "),t._m(61),t._v(" "),s("p",[t._v("理论上，你就可以成功将 Windows 全部终端环境切换为 UTF-8 的编码格式了。也就是说，就算是下面带有左右 Prompt 的 Powerlevel9k 配置，你的终端显示都是正确无误的，光标位置也是符合预期的。")]),t._v(" "),t._m(62),t._v(" "),s("p",[t._v("但是这种方法比较玄学，因此如果你并没有成功解决问题，还请使用第一种办法。")]),t._v(" "),s("p",[t._v("更多配置可以参考我的 "),s("a",{attrs:{href:"https://github.com/spencerwooo/dotfiles",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("dotfiles")]),s("OutboundLink")],1),t._v(" 里面 "),s("a",{attrs:{href:"https://github.com/spencerwooo/dotfiles/blob/master/_wsl_zshrc",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("_wsl_zshrc")]),s("OutboundLink")],1),t._v(" 的部分内容。折腾愉快！")]),t._v(" "),t._m(63),t._v(" "),t._m(64),t._v(" "),s("blockquote",[s("p",[t._v("感谢 "),s("a",{attrs:{href:"https://github.com/printempw",target:"_blank",rel:"noopener noreferrer"}},[t._v("@printempw"),s("OutboundLink")],1),t._v(" 提供的从根源解决这个问题的方式。由于 DrvFs 文件权限问题导致出现有问题的背景色根本原因在于这里 > "),s("a",{attrs:{href:"https://blessing.studio/wsl-guide/#6-6-DrvFs-%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E9%97%AE%E9%A2%98",target:"_blank",rel:"noopener noreferrer"}},[t._v("DrvFs 文件权限问题"),s("OutboundLink")],1),t._v("。")])]),t._v(" "),t._m(65),t._v(" "),t._m(66),t._v(" "),t._m(67),t._m(68),t._v(" "),t._m(69),t._v(" "),s("blockquote",[s("p",[t._v("以下内容来自 "),s("a",{attrs:{href:"https://github.com/printempw",target:"_blank",rel:"noopener noreferrer"}},[t._v("@printempw"),s("OutboundLink")],1),t._v(" 提供的这篇文章 > "),s("a",{attrs:{href:"https://blessing.studio/wsl-guide/#6-6-DrvFs-%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E9%97%AE%E9%A2%98",target:"_blank",rel:"noopener noreferrer"}},[t._v("DrvFs 文件权限问题"),s("OutboundLink")],1),t._v("。")])]),t._v(" "),t._m(70),t._v(" "),t._m(71),t._m(72),t._v(" "),t._m(73),t._v(" "),t._m(74),s("p",[t._v("基本的终端环境就到这里了。")]),t._v(" "),s("p",[t._v("💡 推荐安装 "),s("code",[t._v("zsh")]),t._v(" 组件："),s("a",{attrs:{href:"https://github.com/zsh-users/zsh-autosuggestions",target:"_blank",rel:"noopener noreferrer"}},[t._v("zsh-autosuggestions"),s("OutboundLink")],1),t._v("。")])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"终端环境"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#终端环境","aria-hidden":"true"}},[this._v("#")]),this._v(" 终端环境")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"准备"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#准备","aria-hidden":"true"}},[this._v("#")]),this._v(" 准备")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("为了加速 Ubuntu 18.04 软件包在中国大陆的下载速度，我们将包管理工具 "),e("code",[this._v("apt")]),this._v(" 源更换至中科大镜像源：")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),s("p",[t._v("替换内容前记得备份文件：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" /etc/apt/sources.list /etc/apt/sources.list.bac\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("将 "),e("code",[this._v("/etc/apt/sources.list")]),this._v(" 文件内容前面添加如下内容：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[this._v("deb https://mirrors.ustc.edu.cn/ubuntu/ bionic main restricted universe multiverse\ndeb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic main restricted universe multiverse\n\ndeb https://mirrors.ustc.edu.cn/ubuntu/ bionic-security main restricted universe multiverse\ndeb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-security main restricted universe multiverse\n\ndeb https://mirrors.ustc.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse\ndeb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse\n\ndeb https://mirrors.ustc.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse\ndeb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[this._v("## Not recommended")]),this._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# deb https://mirrors.ustc.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse")]),this._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# deb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse")]),this._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("然后更新缓存："),e("code",[this._v("sudo apt update && sudo apt upgrade")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"bash"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#bash","aria-hidden":"true"}},[this._v("#")]),this._v(" bash")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("下载安装的 Windows Subsystem for Linux 默认就是 "),e("code",[this._v("bash")]),this._v(" 的终端环境。"),e("code",[this._v("bash")]),this._v(" 是 "),e("code",[this._v("Unix shell")]),this._v(" 的一种，是我们开发环境的基础。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"终端-terminal"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#终端-terminal","aria-hidden":"true"}},[this._v("#")]),this._v(" 终端 Terminal")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("支持 256 颜色")]),this._v(" "),e("li",[this._v("输出 UTF-8 格式的文本")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"默认的-wsl-终端模拟器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#默认的-wsl-终端模拟器","aria-hidden":"true"}},[this._v("#")]),this._v(" 默认的 WSL 终端模拟器")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("下文中，"),e("strong",[this._v("「Windows 默认的终端模拟器」指 PowerShell 开启的终端或点击开始菜单中的 Ubuntu 图标开启的终端")]),this._v("。其中，如果你用 PowerShell 开启终端，可以直接用 "),e("code",[this._v("wsl")]),this._v(" 命令进入 WSL 环境。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"字体"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#字体","aria-hidden":"true"}},[this._v("#")]),this._v(" 字体")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://i.loli.net/2019/05/26/5cea07d5e7c9387041.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"配色"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配色","aria-hidden":"true"}},[this._v("#")]),this._v(" 配色")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[this._v("然后，打开 Windows 默认终端模拟器，定位至刚刚解压好有 "),e("code",[this._v("ColorTool.exe")]),this._v(" 的下载文件夹")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-powershell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-powershell"}},[e("code",[this._v("ColorTool"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v(".")]),this._v("exe "),e("span",{pre:!0,attrs:{class:"token operator"}},[this._v("-")]),this._v("s\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),e("p",[this._v("是的，不需要怀疑自己，你可以直接在 WSL 里面执行 "),e("code",[this._v("exe")]),this._v(" 程序，只是需要输全程序名称包括 "),e("code",[this._v("exe")]),this._v(" 程序后缀。但是如果你在 WSL 的默认终端里面运行 ColorTool，可能能正常显示主题有哪些，但是可能没办法设置主题。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://i.loli.net/2019/05/26/5cea085a8972c33685.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("之后，我们就可以通过 "),e("code",[this._v("ColorTool.exe <主题名称>")]),this._v(" 命令来预览我们当前使用的终端主题，比如：")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-powershell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-powershell"}},[e("code",[this._v("ColorTool"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v(".")]),this._v("exe solarized_dark"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v(".")]),this._v("itermcolors\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://i.loli.net/2019/05/26/5cea092e0236268278.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("使用下面的命令应用主题：")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-powershell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-powershell"}},[e("code",[this._v("ColorTool"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v(".")]),this._v("exe "),e("span",{pre:!0,attrs:{class:"token operator"}},[this._v("-")]),this._v("d <主题名称>\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://i.loli.net/2019/05/12/5cd7c30fd3dd3.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://i.loli.net/2019/05/12/5cd7c2f1daee9.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"terminus"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#terminus","aria-hidden":"true"}},[this._v("#")]),this._v(" Terminus")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://i.loli.net/2018/12/13/5c11e99587274.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"下载-terminus"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#下载-terminus","aria-hidden":"true"}},[this._v("#")]),this._v(" 下载 Terminus")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"配置-terminus"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置-terminus","aria-hidden":"true"}},[this._v("#")]),this._v(" 配置 Terminus")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://i.loli.net/2018/12/13/5c11e8a6eee87.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("strong",[this._v("配色")]),this._v("：ayu")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("strong",[t._v("Terminus 设置：")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("Theme")]),t._v(": Standard")]),t._v(" "),s("li",[s("strong",[t._v("Acrylic background")]),t._v(": ✅")]),t._v(" "),s("li",[s("strong",[t._v("Background Type")]),t._v(": Fluent")]),t._v(" "),s("li",[s("strong",[t._v("Custom CSS")]),t._v(":")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-css extra-class"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("::-webkit-scrollbar")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("display")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" none"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"hyper-终端"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#hyper-终端","aria-hidden":"true"}},[this._v("#")]),this._v(" Hyper 终端")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://i.loli.net/2018/10/01/5bb1aa3bc42fa.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"下载-hyper"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#下载-hyper","aria-hidden":"true"}},[this._v("#")]),this._v(" 下载 Hyper")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"配置-hyper-终端"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置-hyper-终端","aria-hidden":"true"}},[this._v("#")]),this._v(" 配置 Hyper 终端")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("配置 Hyper 终端默认使用 WSL 的 "),e("code",[this._v("bash")]),this._v("：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("打开 Hyper，快捷键 "),e("code",[this._v("Ctrl")]),this._v(" + "),e("code",[this._v(",")]),this._v("：开启配置文件；")]),this._v(" "),e("li",[this._v("将配置文件的这几项进行这样的配置：")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    shell"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'C:\\\\Windows\\\\System32\\\\wsl.exe'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    shellArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("重启 Hyper 即可。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("在 Hyper 中打开位于 Linux 文件系统根目录的 "),e("code",[this._v(".bashrc")]),this._v(" 并添加以下代码:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# Disable the bell sound on backspace")]),this._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[this._v("set")]),this._v(" bell-style none\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("加载设置："),e("code",[this._v("source ~/.bashrc")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"zsh-oh-my-zsh"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#zsh-oh-my-zsh","aria-hidden":"true"}},[this._v("#")]),this._v(" zsh & oh-my-zsh")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"配置-zsh"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置-zsh","aria-hidden":"true"}},[this._v("#")]),this._v(" 配置 zsh")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("下载安装 "),e("code",[this._v("zsh")]),this._v(" 代替自动补全功能欠缺的 "),e("code",[this._v("bash")]),this._v("：")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("利用 Ubuntu 的包管理器安装 "),s("code",[t._v("zsh")]),t._v("："),s("code",[t._v("sudo apt install zsh")])]),t._v(" "),s("li",[t._v("使用 "),s("code",[t._v("zsh")]),t._v(" 作为默认的 Shell 环境：")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" chsh -s "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[this._v("$(")]),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("which")]),this._v(" zsh"),e("span",{pre:!0,attrs:{class:"token variable"}},[this._v(")")])]),this._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("运行命令下载安装："),e("code",[this._v('sh -c "$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"解决光标位置无法正确显示的问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决光标位置无法正确显示的问题","aria-hidden":"true"}},[this._v("#")]),this._v(" 解决光标位置无法正确显示的问题")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"_1-修改终端显示内容"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-修改终端显示内容","aria-hidden":"true"}},[this._v("#")]),this._v(" 1. 修改终端显示内容")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("在 "),s("code",[t._v("~/.oh-my-zsh/themes")]),t._v(" 目录下打开 "),s("code",[t._v("oh-my-zsh")]),t._v(" 默认主题文件："),s("code",[t._v("robbyrussell.zsh-theme")]),t._v("，将其中的全角 Unicode 字符「➜」更改为其他字符（比如「>」或者「→」）")]),t._v(" "),s("li",[t._v("加载设置："),s("code",[t._v("source ~/.zshrc")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("将酷炫的命令前部分放在一行单独显示")]),this._v(" "),e("li",[this._v("将需要输入的带有光标的命令部分放在第二行显示")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://user-images.githubusercontent.com/32114380/50538113-00a78a00-0ba5-11e9-8a7a-db8d709e8d88.png",alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 让命令主体单独在第二行显示")]),t._v("\nPOWERLEVEL9K_PROMPT_ON_NEWLINE"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("true\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 让右侧命令不显示（右侧命令同样无法正常在 Windows 下渲染）")]),t._v("\nPOWERLEVEL9K_DISABLE_RPROMPT"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("true\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 上文截图中的两行命令前部字符的配置")]),t._v("\nPOWERLEVEL9K_MULTILINE_FIRST_PROMPT_PREFIX"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"╭"')]),t._v("\nPOWERLEVEL9K_MULTILINE_LAST_PROMPT_PREFIX"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"╰\\u276F\\u276F\\u276F "')]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"_2-修改-windows-终端为-utf-8-环境"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-修改-windows-终端为-utf-8-环境","aria-hidden":"true"}},[this._v("#")]),this._v(" 2. 修改 Windows 终端为 UTF-8 环境")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("首先，在「控制面板 → 区域」，选择「非 Unicode 程序语言设置」，更改为「英语」，并勾选下方「Beta：使用 Unicode UTF-8 支持全球语言」的选项")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://i.loli.net/2019/04/08/5cab126f55e54.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("之后，在 PowerShell 终端中输入 "),e("code",[this._v("chcp 65001")]),this._v("，切换为 UTF-8 代码页")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://i.loli.net/2019/04/08/5cab1506db02b.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"解决-ls-和-cd-命令后背景色问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决-ls-和-cd-命令后背景色问题","aria-hidden":"true"}},[this._v("#")]),this._v(" 解决 "),e("code",[this._v("ls")]),this._v(" 和 "),e("code",[this._v("cd")]),this._v(" 命令后背景色问题")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("简单来说，由于 DrvFs 文件系统的权限问题，导致了 Windows 原有 NTFS 文件系统中的文件到 WSL 下权限全部变成 0777。这样在 WSL 中执行 "),e("code",[this._v("ls")]),this._v(" 和 "),e("code",[this._v("cd")]),this._v(" 命令之后，显示出来的结果背景色就会出现问题。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"如果不想对文件系统的权限进行修改"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#如果不想对文件系统的权限进行修改","aria-hidden":"true"}},[this._v("#")]),this._v(" 如果不想对文件系统的权限进行修改")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("可以在 "),e("code",[this._v(".zshrc")]),this._v(" 最尾部添加如下代码")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Change ls colours")]),t._v("\nLS_COLORS"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ow=01;36;40"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("export")]),t._v(" LS_COLORS\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# make cd use the ls colours")]),t._v("\nzstyle "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("':completion:*'")]),t._v(" list-colors "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${(@s.:.)LS_COLORS}")]),t._v('"')]),t._v("\nautoload -Uz compinit\ncompinit\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("加载设置："),e("code",[this._v("source ~/.zshrc")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"如果希望从根本上解决-drvfs-文件系统的权限问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#如果希望从根本上解决-drvfs-文件系统的权限问题","aria-hidden":"true"}},[this._v("#")]),this._v(" 如果希望从根本上解决 DrvFs 文件系统的权限问题")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("在 WSL 中创建 "),e("code",[this._v("/etc/wsl.conf")]),this._v("，在其中填写如下内容：")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('[automount]\nenabled = true\nroot = /mnt/\noptions = "metadata,umask=22,fmask=111"\nmountFsTab = true\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("重启终端，所有的盘符就会使用上面的配置自动挂载（可以使用 "),e("code",[this._v("mount -l")]),this._v(" 查看）")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("另外，如果你想要给不同的盘符设定不同的挂载参数（上面的方法对所有盘符都有效，如果你想在 WSL 中运行 Windows 下的应用程序，就得每次都 "),s("code",[t._v("chmod +x")]),t._v(" 一下，所以我一般都会把 C: 排除掉），就需要手动修改 "),s("code",[t._v("/etc/fstab")]),t._v("。首先确保 "),s("code",[t._v("wsl.conf")]),t._v(" 中的 "),s("code",[t._v("mountFsTab")]),t._v(" 为 "),s("code",[t._v("true")]),t._v("，然后编辑 "),s("code",[t._v("/etc/fstab")]),t._v("，添加如下内容：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("# 不在此列表中的盘符会使用 wsl.conf 中的参数挂载\n# 格式可以自己去查 fstab 的帮助文档\nE: /mnt/e drvfs rw,relatime,uid=1000,gid=1000,metadata,umask=22,fmask=111 0 0\n")])])])}],!1,null,null,null);n.options.__file="2-1-TerminalEnv.md";e.default=n.exports}}]);